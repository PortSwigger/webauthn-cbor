/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.4.2/samples
 */
plugins {
	id 'java'
}

version '1.0'

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

dependencies {
    implementation 'net.portswigger.burp.extender:burp-extender-api:2.1'
    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:2.13.1'
    implementation 'com.webauthn4j:webauthn4j-core:0.19.2.RELEASE'
    implementation 'junit:junit:4.13.2'
}

java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

sourceSets {
    main {
        java {
            // Set the source directory to "src"
            srcDirs = ['src']
        }
    }
    
    test {
    	java {
    		srcDirs = ['test']
    	}
    }
}


// Create a task for bundling all dependencies into a jar file.
task bigJar(type: Jar) {
	manifest {
		attributes 'Implementation-Title': 'Burp Extension'
	}
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    baseName = project.name + '-all'
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}